## 数组

### 定义方式

    $a = array(4,5,6);
    $b = [4,5,6]; // PHP>=5.4
    $c[0] = 4;
    $c[1] = 5;

发现疑点，当变量是```false```或```null```的时候，使用下标赋值不会报错，而是用数组覆盖。

    $a = false;
    $a[0] = true;

    var_dump($a);

### 键名称的转换

PHP会自动对键名进行类型转换。数组的键名必须是整数或者字符串。

1. 拥有合法的整数类型的字符串，会被转化为对应的整数。比如"1","2","3"等，但是像"08","1x"这种就不会。
2. 浮点数类型，会被舍去小数部分然后转换为整数。但是像字符串"1.2345"就不会。
3. 布尔类型的```true```会被转为1，```false```会被转为0
4. ```null```会被转化为空字符串。
5. 数组和对象不能用作键名，会报错。

可以在赋值的时候不指定键名。如果不指定键名的话，PHP会用最近一次用的整数键名加1后作为键名使用。这里说的整数键名指的是转换过后的。比如：

    $a["123"] = 1;
    $a[] = 2;
    var_dump($a);

输出的是

    F:\php>php test.php
    array(2) {
      [123]=>
      int(1)
      [124]=>
      int(2)
    }

这里新插入的键名为123+1。默认初始会从0开始。

注意一个问题，使用```unset()```并不会清除PHP数组内部最后一次整数的键名的计数。比如：

    $a["123"] = 1;
    $a[] = 2;
    unset($a[124]);
    $a[] = 3;
    var_dump($a);

输出：

    F:\php>php test.php
    array(2) {
      [123]=>
      int(1)
      [125]=>
      int(3)
    }

PHP的数组跟Javascript的数组不一样。Javascript的数组是对象，存在引用关系。PHP的数组是一个键值对映射，数组赋值会将元素的值进行拷贝，除非元素是对象、资源类型或明确的引用。